{"version":3,"sources":["webpack:///src/views/channelManagement/createChannel.vue","webpack:///./src/views/channelManagement/createChannel.vue?e1a2","webpack:///./src/views/channelManagement/createChannel.vue"],"names":["createChannel","name","data","formData","contractAnnex","annexId","ownContact","channelName","channelLevel","channelLevels","label","value","address","contacter","phone","email","inviteCode","status","introduce","note","endTime","startTime","rules","min","max","message","trigger","required","validator","rule","callback","test","Error","methods","annexSubmitUpload","_this","this","loading","FormData","forEach","item","size","$message","error","append","raw","Object","api","then","res","code","body","push","id","$notify","title","msg","type","handlePreview","file","fileList","handleRemove","channel","_this2","chName","chLevel","chAddress","chContacts","chPhone","chEmail","chState","operateUser","contractStaTime","contractEndTime","toString","chIntroduce","chRemarks","uid","JSON","parse","window","sessionStorage","getItem","$refs","$children","index","isRequired","fieldValue","finish","$router","mounted","channelManagement_createChannel","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","span","ref","model","status-icon","label-width","prop","$$v","$set","expression","_v","_l","key","clearable","value-format","placeholder","action","on-change","on-remove","file-list","auto-upload","slot","staticStyle","margin-left","on","click","rows","$event","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/11.c7ef253a880b0443fa38.js","sourcesContent":["<template>\r\n  <div class=\"createChannel\">\r\n      <el-row type=\"flex\">\r\n          <el-col :span=\"12\">\r\n              <el-form :rules=\"rules\" ref=\"formData\" :model=\"formData\" status-icon label-width=\"120px\">\r\n                  <el-form-item label=\"渠道名称\" prop=\"channelName\">\r\n                      <el-input type=\"text\" v-model=\"formData.channelName\"></el-input>\r\n                  </el-form-item>\r\n                  <el-form-item label=\"渠道级别\" prop=\"channelLevel\">\r\n                      <el-select v-model=\"formData.channelLevel\">\r\n                        <el-option\r\n                        v-for=\"item in formData.channelLevels\"\r\n                        :key=\"item.value\"\r\n                        :label=\"item.label\"\r\n                        :value=\"item.value\">\r\n                        </el-option>\r\n                      </el-select>\r\n                  </el-form-item>\r\n                  <el-form-item label=\"渠道地址\" prop=\"address\">\r\n                      <el-input type=\"text\" v-model=\"formData.address\"></el-input>\r\n                  </el-form-item>\r\n                  <el-form-item label=\"渠道联系人\" prop=\"contacter\">\r\n                      <el-input type=\"text\" v-model=\"formData.contacter\"></el-input>\r\n                  </el-form-item>\r\n                  <el-form-item label=\"绑定手机号\" prop=\"phone\">\r\n                      <el-input type=\"text\" v-model=\"formData.phone\"></el-input>\r\n                  </el-form-item>\r\n                  <el-form-item label=\"绑定邮箱\" prop=\"email\">\r\n                      <el-input type=\"text\" v-model=\"formData.email\"></el-input>\r\n                  </el-form-item>\r\n\r\n                  <el-form-item label=\"合同开始时间\" prop=\"startTime\">\r\n                      <el-date-picker\r\n                        clearable\r\n                        v-model=\"formData.startTime\"\r\n                        type=\"date\"\r\n                        value-format=\"yyyyMMddHHmmss\"\r\n                        placeholder=\"选择日期\">\r\n                        </el-date-picker>\r\n                  </el-form-item>\r\n                  <el-form-item label=\"合同结束时间\" prop=\"endTime\">\r\n                      <el-date-picker\r\n                        clearable\r\n                        v-model=\"formData.endTime\"\r\n                        type=\"date\"\r\n                        value-format=\"yyyyMMddHHmmss\"\r\n                        placeholder=\"选择日期\">\r\n                        </el-date-picker>\r\n                  </el-form-item>\r\n                  <el-form-item label=\"合同附件\" prop=\"contractAnnex\">\r\n                        <el-upload\r\n                        class=\"upload-demo\"\r\n                        ref=\"upload\"\r\n                        action=\"#\"\r\n                        :on-change=\"handlePreview\"\r\n                        :on-remove=\"handleRemove\"\r\n                        :file-list=\"formData.contractAnnex\"\r\n                        :auto-upload=\"false\">\r\n                        <el-button slot=\"trigger\" size=\"small\" type=\"primary\">选取文件</el-button>\r\n                        <el-button style=\"margin-left: 10px;\" size=\"small\" type=\"success\" @click=\"annexSubmitUpload\">上传到服务器</el-button>\r\n                        </el-upload>\r\n                    </el-form-item>\r\n                  <!-- <el-form-item label=\"邀请码\" prop=\"inviteCode\">\r\n                      <el-input type=\"text\" v-model=\"formData.inviteCode\"></el-input>\r\n                  </el-form-item> -->\r\n                  <el-form-item label=\"帐号状态\" prop=\"status\">\r\n                    <el-radio v-model=\"formData.status\" label=\"0\">启用</el-radio>\r\n                    <el-radio v-model=\"formData.status\" label=\"1\">禁止</el-radio>\r\n                  </el-form-item>\r\n              </el-form>\r\n          </el-col>\r\n          <el-col :span=\"12\">\r\n              <el-form label-width=\"120px\">\r\n                <el-form-item label=\"渠道介绍\">\r\n                    <el-input type=\"textarea\" :rows=\"4\" v-model=\"formData.introduce\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"我司联络人\" prop=\"ownContact\">\r\n                    <el-input type=\"text\" v-model=\"formData.ownContact\"></el-input>\r\n                </el-form-item>\r\n                <el-form-item label=\"渠道备注\">\r\n                    <el-input type=\"textarea\" :rows=\"4\" v-model=\"formData.note\"></el-input>\r\n                </el-form-item>\r\n              </el-form>\r\n          </el-col>\r\n      </el-row>\r\n      <div class=\"btn\">\r\n          <el-button size=\"small\" type=\"primary\" @click=\"channel\">创建</el-button>\r\n          <el-button size=\"small\" @click=\"$router.push('/channelList')\" >取消</el-button>\r\n      </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { channel ,uploadFiles } from '@/api/api.js'\r\nexport default {\r\n    name:'createChannel',\r\n    data(){\r\n        var checkPhone = (rule, value, callback) => {\r\n            if (!value) {\r\n                return callback(new Error('手机号码不能为空'));\r\n            }\r\n            if(!(/^1[3456789]\\d{9}$/.test(value))){ \r\n                callback(new Error('手机号码有误'));\r\n                return false; \r\n            } else{\r\n                callback();\r\n            }\r\n        };\r\n        return{\r\n            formData:{\r\n                contractAnnex:[],\r\n                annexId:[],\r\n                ownContact:'',\r\n                channelName:'',\r\n                channelLevel:'',\r\n                channelLevels:[{label:'一级',value:1},{label:'二级',value:2}],\r\n                address:'',\r\n                contacter:'',\r\n                phone:'',\r\n                email:'',\r\n                inviteCode:'',\r\n                status:'0',\r\n                introduce:'',\r\n                note:'',\r\n                endTime:'',\r\n                startTime:'',\r\n            },\r\n            rules:{\r\n                channelName: [\r\n                    { min: 3 ,max: 25, message: '3个汉字≤名称≤25个汉字', trigger: 'blur' },\r\n                    { required: true, message: '请输入卡券名称', trigger: 'blur' }\r\n                ],\r\n                startTime: [\r\n                    {required: true, message: '请选择开始时间', trigger: 'change' }\r\n                ],\r\n                endTime: [\r\n                    {required: true, message: '请选择结束时间', trigger: 'change' }\r\n                ],\r\n                channelLevel: [\r\n                    { required: true, message: '请选择渠道级别', trigger: 'change' }\r\n                ],\r\n                address: [\r\n                    { required: true, message: '请输入渠道地址', trigger: 'blur' }\r\n                ],\r\n                contacter: [\r\n                    {  required: true, message: '请输入联系人', trigger: 'blur' ,}\r\n                ],\r\n                phone: [\r\n                    {   validator: checkPhone, required: true, trigger: 'blur' }\r\n                ],\r\n                // inviteCode: [\r\n                //     { required: true, message: '请输入邀请码', trigger: 'blur' }\r\n                // ],\r\n                status: [\r\n                    { required: true, message: '请选择账号状态', trigger: 'change' }\r\n                ],\r\n            },\r\n\r\n        }\r\n    },\r\n    methods:{   \r\n        annexSubmitUpload(){//上传附件\r\n            this.loading=true\r\n            let formData=new FormData()\r\n            this.formData.contractAnnex.forEach(item=>{\r\n                if(item.size>=104857600){\r\n                    this.$message.error('文件过大!')\r\n                    this.loading=false\r\n                    throw new Error('文件过大!重新上传!')\r\n                }\r\n                formData.append('files',item.raw)\r\n            })\r\n            this.formData.annexId=[]\r\n            uploadFiles(formData).then(res=>{\r\n                this.loading=false\r\n                if(res.data.code==1){\r\n                    res.data.body.forEach(item=>{\r\n                        this.formData.annexId.push(item.id)\r\n                    })\r\n                    this.$notify({\r\n                    title: '成功',\r\n                    message: res.data.msg,\r\n                    type: 'success'\r\n                    });\r\n                }else{\r\n                    this.$notify.error({\r\n                    title: '错误',\r\n                    message: res.data.msg,\r\n                    });\r\n                }\r\n            })\r\n        },\r\n        handlePreview(file,fileList) {\r\n            this.formData.contractAnnex=fileList\r\n        },\r\n        handleRemove(file,fileList) {\r\n            this.formData.contractAnnex=fileList\r\n        },\r\n        channel(){\r\n            let data={\r\n                chName:this.formData.channelName,\r\n                chLevel:this.formData.channelLevel,\r\n                chAddress:this.formData.address,\r\n                chContacts:this.formData.contacter,\r\n                chPhone:this.formData.phone,\r\n                chEmail:this.formData.email,\r\n                inviteCode:this.formData.inviteCode,\r\n                chState:this.formData.status,\r\n                operateUser:this.formData.ownContact,\r\n                contractStaTime:this.formData.startTime,\r\n                contractEndTime:this.formData.endTime,\r\n                contractAnnex:this.formData.annexId.toString(),\r\n                chIntroduce:this.formData.introduce,\r\n                chRemarks:this.formData.note,\r\n                uid:JSON.parse(window.sessionStorage.getItem('user')).uid\r\n            }\r\n            this.$refs.formData.$children.forEach((item,index)=>{\r\n                if(item.isRequired&&item.fieldValue==''){\r\n                    this.$message.error(item.label+'不能为空!');\r\n                    finish=true;\r\n                    throw new Error('表单验证错误')\r\n                }\r\n            })\r\n            channel(data,true).then(res=>{\r\n                if(res.data.code==1){\r\n                    this.$notify({\r\n                    title: '成功',\r\n                    message: res.data.msg,\r\n                    type: 'success'\r\n                    });\r\n                    this.$router.push('/channelList')\r\n                }else{\r\n                    this.$notify.error({\r\n                    title: '错误',\r\n                    message: res.data.msg,\r\n                    });\r\n                }\r\n            })\r\n        }\r\n    },\r\n    mounted(){\r\n\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n    .createChannel{\r\n        background: white;\r\n        padding: .1rem;\r\n        margin-top: .1rem;\r\n        .btn{\r\n            font-size: .16rem;\r\n            text-align: center;\r\n        }\r\n    }\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/views/channelManagement/createChannel.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"createChannel\"},[_c('el-row',{attrs:{\"type\":\"flex\"}},[_c('el-col',{attrs:{\"span\":12}},[_c('el-form',{ref:\"formData\",attrs:{\"rules\":_vm.rules,\"model\":_vm.formData,\"status-icon\":\"\",\"label-width\":\"120px\"}},[_c('el-form-item',{attrs:{\"label\":\"渠道名称\",\"prop\":\"channelName\"}},[_c('el-input',{attrs:{\"type\":\"text\"},model:{value:(_vm.formData.channelName),callback:function ($$v) {_vm.$set(_vm.formData, \"channelName\", $$v)},expression:\"formData.channelName\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"渠道级别\",\"prop\":\"channelLevel\"}},[_c('el-select',{model:{value:(_vm.formData.channelLevel),callback:function ($$v) {_vm.$set(_vm.formData, \"channelLevel\", $$v)},expression:\"formData.channelLevel\"}},_vm._l((_vm.formData.channelLevels),function(item){return _c('el-option',{key:item.value,attrs:{\"label\":item.label,\"value\":item.value}})}),1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"渠道地址\",\"prop\":\"address\"}},[_c('el-input',{attrs:{\"type\":\"text\"},model:{value:(_vm.formData.address),callback:function ($$v) {_vm.$set(_vm.formData, \"address\", $$v)},expression:\"formData.address\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"渠道联系人\",\"prop\":\"contacter\"}},[_c('el-input',{attrs:{\"type\":\"text\"},model:{value:(_vm.formData.contacter),callback:function ($$v) {_vm.$set(_vm.formData, \"contacter\", $$v)},expression:\"formData.contacter\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"绑定手机号\",\"prop\":\"phone\"}},[_c('el-input',{attrs:{\"type\":\"text\"},model:{value:(_vm.formData.phone),callback:function ($$v) {_vm.$set(_vm.formData, \"phone\", $$v)},expression:\"formData.phone\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"绑定邮箱\",\"prop\":\"email\"}},[_c('el-input',{attrs:{\"type\":\"text\"},model:{value:(_vm.formData.email),callback:function ($$v) {_vm.$set(_vm.formData, \"email\", $$v)},expression:\"formData.email\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"合同开始时间\",\"prop\":\"startTime\"}},[_c('el-date-picker',{attrs:{\"clearable\":\"\",\"type\":\"date\",\"value-format\":\"yyyyMMddHHmmss\",\"placeholder\":\"选择日期\"},model:{value:(_vm.formData.startTime),callback:function ($$v) {_vm.$set(_vm.formData, \"startTime\", $$v)},expression:\"formData.startTime\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"合同结束时间\",\"prop\":\"endTime\"}},[_c('el-date-picker',{attrs:{\"clearable\":\"\",\"type\":\"date\",\"value-format\":\"yyyyMMddHHmmss\",\"placeholder\":\"选择日期\"},model:{value:(_vm.formData.endTime),callback:function ($$v) {_vm.$set(_vm.formData, \"endTime\", $$v)},expression:\"formData.endTime\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"合同附件\",\"prop\":\"contractAnnex\"}},[_c('el-upload',{ref:\"upload\",staticClass:\"upload-demo\",attrs:{\"action\":\"#\",\"on-change\":_vm.handlePreview,\"on-remove\":_vm.handleRemove,\"file-list\":_vm.formData.contractAnnex,\"auto-upload\":false}},[_c('el-button',{attrs:{\"slot\":\"trigger\",\"size\":\"small\",\"type\":\"primary\"},slot:\"trigger\"},[_vm._v(\"选取文件\")]),_vm._v(\" \"),_c('el-button',{staticStyle:{\"margin-left\":\"10px\"},attrs:{\"size\":\"small\",\"type\":\"success\"},on:{\"click\":_vm.annexSubmitUpload}},[_vm._v(\"上传到服务器\")])],1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"帐号状态\",\"prop\":\"status\"}},[_c('el-radio',{attrs:{\"label\":\"0\"},model:{value:(_vm.formData.status),callback:function ($$v) {_vm.$set(_vm.formData, \"status\", $$v)},expression:\"formData.status\"}},[_vm._v(\"启用\")]),_vm._v(\" \"),_c('el-radio',{attrs:{\"label\":\"1\"},model:{value:(_vm.formData.status),callback:function ($$v) {_vm.$set(_vm.formData, \"status\", $$v)},expression:\"formData.status\"}},[_vm._v(\"禁止\")])],1)],1)],1),_vm._v(\" \"),_c('el-col',{attrs:{\"span\":12}},[_c('el-form',{attrs:{\"label-width\":\"120px\"}},[_c('el-form-item',{attrs:{\"label\":\"渠道介绍\"}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"rows\":4},model:{value:(_vm.formData.introduce),callback:function ($$v) {_vm.$set(_vm.formData, \"introduce\", $$v)},expression:\"formData.introduce\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"我司联络人\",\"prop\":\"ownContact\"}},[_c('el-input',{attrs:{\"type\":\"text\"},model:{value:(_vm.formData.ownContact),callback:function ($$v) {_vm.$set(_vm.formData, \"ownContact\", $$v)},expression:\"formData.ownContact\"}})],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"渠道备注\"}},[_c('el-input',{attrs:{\"type\":\"textarea\",\"rows\":4},model:{value:(_vm.formData.note),callback:function ($$v) {_vm.$set(_vm.formData, \"note\", $$v)},expression:\"formData.note\"}})],1)],1)],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"btn\"},[_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\"},on:{\"click\":_vm.channel}},[_vm._v(\"创建\")]),_vm._v(\" \"),_c('el-button',{attrs:{\"size\":\"small\"},on:{\"click\":function($event){return _vm.$router.push('/channelList')}}},[_vm._v(\"取消\")])],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-7f99b9c5\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/channelManagement/createChannel.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-7f99b9c5\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./createChannel.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./createChannel.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./createChannel.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-7f99b9c5\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./createChannel.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-7f99b9c5\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/channelManagement/createChannel.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}