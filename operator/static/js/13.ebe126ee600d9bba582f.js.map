{"version":3,"sources":["webpack:///src/views/channelManagement/channelManagement.vue","webpack:///./src/views/channelManagement/channelManagement.vue?d22e","webpack:///./src/views/channelManagement/channelManagement.vue"],"names":["channelManagement","name","filters","time","val","Object","api_public","level","chState","data","loading","dialogVisible","showRoute","formData","keyword","tableData","page","pageSize","total","watch","$route","to","from","path","this","channel","methods","handleSizeChange","size","handleCurrentChange","_this","keyWord","api","then","res","body","count","showChannel","id","$router","push","createChannel","mounted","channelManagement_channelManagement","render","_vm","_h","$createElement","_c","_self","directives","rawName","value","expression","staticClass","attrs","mode","label-width","inline","label","placeholder","model","callback","$$v","$set","_v","type","on","click","staticStyle","float","width","margin","border","height","align","min-width","prop","scopedSlots","_u","key","fn","scope","_s","_f","row","chLevel","insTime","$event","chid","current-page","page-sizes","page-size","layout","size-change","current-change","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/13.ebe126ee600d9bba582f.js","sourcesContent":["<template>\r\n  <div class=\"channelManagement\" v-loading=\"loading\">\r\n      <transition v-if=\"showRoute\" name=\"el-fade-in\" mode=\"out-in\">\r\n        <router-view ></router-view>\r\n      </transition>\r\n      <div v-else>\r\n        <el-form label-width=\"0.8rem\" class=\"form\" :inline=\"true\">\r\n            <el-form-item label=\"关键字:\">\r\n              <el-input size=\"small\" v-model=\"formData.keyword\" placeholder=\"渠道名称\"></el-input>\r\n            </el-form-item>\r\n            <el-form-item >\r\n              <el-button size=\"small\" type=\"primary\" @click=\"channel\">查询</el-button>\r\n            </el-form-item>\r\n        </el-form>\r\n        <div class=\"channelList\">\r\n              <h2>数据列表 <el-button type=\"primary\" @click=\"createChannel\" style=\"float:right\" size=\"small\">创建渠道</el-button></h2>\r\n              <el-table\r\n              border\r\n              :data=\"tableData\"\r\n              size=\"small\"\r\n              height=\"5.6rem\"\r\n              style=\"width: 100%;margin:.1rem\">\r\n              <el-table-column\r\n                  align=\"center\"\r\n                  min-width=\"110px\"\r\n                  prop=\"chName\"\r\n                  label=\"渠道名称\">\r\n              </el-table-column>\r\n              <el-table-column\r\n                  align=\"center\"\r\n                  prop=\"chLevel\"\r\n                  label=\"渠道级别\">\r\n                  <template slot-scope=\"scope\">\r\n                    <p>{{scope.row.chLevel|level}}</p>\r\n                  </template>\r\n              </el-table-column>\r\n              <el-table-column\r\n                  align=\"center\"\r\n                  prop=\"chContacts\"\r\n                  label=\"联系人\">\r\n              </el-table-column>\r\n              <el-table-column\r\n                  align=\"center\"\r\n                  prop=\"chPhone\"\r\n                  label=\"绑定手机号\">\r\n              </el-table-column>\r\n              <!-- <el-table-column\r\n                  align=\"center\"\r\n                  prop=\"address\"\r\n                  label=\"已创建卡包数\">\r\n              </el-table-column>\r\n              <el-table-column\r\n                  align=\"center\"\r\n                  prop=\"address\"\r\n                  label=\"已派发卡券数\">\r\n              </el-table-column> -->\r\n              <el-table-column\r\n                  align=\"center\"\r\n                  prop=\"chState\"\r\n                  label=\"帐号状态\">\r\n                  <template slot-scope=\"scope\">\r\n                  <p>{{scope.row.chState|chState}}</p>\r\n                  </template>\r\n              </el-table-column>\r\n              <el-table-column\r\n                  align=\"center\"\r\n                  prop=\"insTime\"\r\n                  min-width=\"110px\"\r\n                  label=\"创建时间\">\r\n                  <template slot-scope=\"scope\">\r\n                  <p>{{scope.row.insTime|time}}</p>\r\n                  </template>\r\n              </el-table-column>\r\n              <el-table-column label=\"操作\" align=\"center\">\r\n                  <template slot-scope=\"scope\">\r\n                  <el-button type=\"text\" @click=\"showChannel(scope.row.chid)\" size=\"mini\">查看</el-button>\r\n                  </template>\r\n              </el-table-column>\r\n              </el-table>\r\n              <el-pagination\r\n                style=\"float:right\"\r\n                @size-change=\"handleSizeChange\"\r\n                @current-change=\"handleCurrentChange\"\r\n                :current-page=\"page\"\r\n                :page-sizes=\"[20 ,100, 200, 300, 400]\"\r\n                :page-size=\"pageSize\"\r\n                layout=\"total, sizes, prev, pager, next, jumper\"\r\n                :total=\"total\">\r\n              </el-pagination>\r\n            </div>\r\n      </div>\r\n      \r\n\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { formattingTime } from '@/api/public.js'\r\nimport { channel,delChannel } from '@/api/api.js'\r\nexport default {\r\n  name:'channelManagement',\r\n    filters:{\r\n      time(val){\r\n        return formattingTime(val)\r\n      },\r\n      level(val){\r\n        if(val==1){\r\n          return '一级'\r\n        }else{\r\n          return '二级'\r\n        }\r\n      },\r\n      chState(val){\r\n        if(val==1){\r\n          return '停用'\r\n        }else{\r\n          return '启用'\r\n        }\r\n      }\r\n    },\r\n    data(){\r\n      return{\r\n        loading:false,\r\n        dialogVisible:false,\r\n        showRoute:false,\r\n        formData:{\r\n          keyword:'',\r\n        },\r\n        tableData:[1],\r\n        page:1,\r\n        pageSize:20,\r\n        total:0\r\n      }\r\n    },\r\n    watch:{\r\n        $route(to,from){\r\n            if(from.path=='/channelDetail'||from.path=='/createChannel'){\r\n                this.showRoute=false\r\n                this.channel()\r\n            }\r\n        }\r\n    },\r\n    methods:{\r\n      handleSizeChange(val) {//每页\r\n          this.size=val\r\n          this.channel()\r\n        },\r\n        handleCurrentChange(val) {//翻页\r\n          this.pageSize=val\r\n          this.channel()\r\n        },\r\n      channel(){//渠道列表\r\n        let data={\r\n          keyWord:this.formData.keyword,\r\n          page:this.page-1,\r\n          pageSize:this.pageSize\r\n        }\r\n        this.loading=true\r\n        channel(data).then(res=>{\r\n          this.loading=false\r\n          this.tableData=res.data.body.data\r\n          this.total=res.data.body.count\r\n        })\r\n      },\r\n      showChannel(id){\r\n        this.showRoute=true\r\n        this.$router.push('/channelDetail?id='+id)\r\n      },\r\n      createChannel(){\r\n        this.showRoute=true\r\n        this.$router.push('/createChannel')\r\n      }\r\n    },\r\n    mounted(){\r\n      this.channel()\r\n    }\r\n}\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n  .channelManagement{\r\n      height: 100vh;\r\n      overflow: hidden;\r\n      .form{\r\n        background: white;\r\n        margin-bottom: .1rem;\r\n        display: flex;\r\n        height: .6rem;\r\n        .el-form-item{\r\n          height: .6rem;\r\n          display: flex;\r\n          align-items: center;\r\n        }\r\n      }\r\n      .channelList{\r\n        background: white !important;\r\n        h2{\r\n          font-size:.22rem;\r\n          padding: .1rem;\r\n          font-family:Source Han Sans CN;\r\n          font-weight:550;\r\n          color:rgba(0,0,0,1);\r\n        }\r\n      }\r\n  }\r\n</style>\n\n\n// WEBPACK FOOTER //\n// src/views/channelManagement/channelManagement.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loading),expression:\"loading\"}],staticClass:\"channelManagement\"},[(_vm.showRoute)?_c('transition',{attrs:{\"name\":\"el-fade-in\",\"mode\":\"out-in\"}},[_c('router-view')],1):_c('div',[_c('el-form',{staticClass:\"form\",attrs:{\"label-width\":\"0.8rem\",\"inline\":true}},[_c('el-form-item',{attrs:{\"label\":\"关键字:\"}},[_c('el-input',{attrs:{\"size\":\"small\",\"placeholder\":\"渠道名称\"},model:{value:(_vm.formData.keyword),callback:function ($$v) {_vm.$set(_vm.formData, \"keyword\", $$v)},expression:\"formData.keyword\"}})],1),_vm._v(\" \"),_c('el-form-item',[_c('el-button',{attrs:{\"size\":\"small\",\"type\":\"primary\"},on:{\"click\":_vm.channel}},[_vm._v(\"查询\")])],1)],1),_vm._v(\" \"),_c('div',{staticClass:\"channelList\"},[_c('h2',[_vm._v(\"数据列表 \"),_c('el-button',{staticStyle:{\"float\":\"right\"},attrs:{\"type\":\"primary\",\"size\":\"small\"},on:{\"click\":_vm.createChannel}},[_vm._v(\"创建渠道\")])],1),_vm._v(\" \"),_c('el-table',{staticStyle:{\"width\":\"100%\",\"margin\":\".1rem\"},attrs:{\"border\":\"\",\"data\":_vm.tableData,\"size\":\"small\",\"height\":\"5.6rem\"}},[_c('el-table-column',{attrs:{\"align\":\"center\",\"min-width\":\"110px\",\"prop\":\"chName\",\"label\":\"渠道名称\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"prop\":\"chLevel\",\"label\":\"渠道级别\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('p',[_vm._v(_vm._s(_vm._f(\"level\")(scope.row.chLevel)))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"prop\":\"chContacts\",\"label\":\"联系人\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"prop\":\"chPhone\",\"label\":\"绑定手机号\"}}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"prop\":\"chState\",\"label\":\"帐号状态\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('p',[_vm._v(_vm._s(_vm._f(\"chState\")(scope.row.chState)))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"align\":\"center\",\"prop\":\"insTime\",\"min-width\":\"110px\",\"label\":\"创建时间\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('p',[_vm._v(_vm._s(_vm._f(\"time\")(scope.row.insTime)))])]}}])}),_vm._v(\" \"),_c('el-table-column',{attrs:{\"label\":\"操作\",\"align\":\"center\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"type\":\"text\",\"size\":\"mini\"},on:{\"click\":function($event){return _vm.showChannel(scope.row.chid)}}},[_vm._v(\"查看\")])]}}])})],1),_vm._v(\" \"),_c('el-pagination',{staticStyle:{\"float\":\"right\"},attrs:{\"current-page\":_vm.page,\"page-sizes\":[20 ,100, 200, 300, 400],\"page-size\":_vm.pageSize,\"layout\":\"total, sizes, prev, pager, next, jumper\",\"total\":_vm.total},on:{\"size-change\":_vm.handleSizeChange,\"current-change\":_vm.handleCurrentChange}})],1)],1)],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-74e51312\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/views/channelManagement/channelManagement.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true,\\\"publicPath\\\":\\\"../../\\\"}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-74e51312\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./channelManagement.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./channelManagement.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./channelManagement.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-74e51312\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./channelManagement.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-74e51312\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/channelManagement/channelManagement.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}