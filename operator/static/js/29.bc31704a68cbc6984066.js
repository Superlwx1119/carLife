webpackJsonp([29],{Azwx:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=a("P9l9"),n=a("0w2Z"),r={name:"ownerList",filters:{time:function(e){return Object(n.b)(e)},date:function(e){return Object(n.c)(e)},status:function(e){switch(e){case"1":return"未使用";case"2":return"已使用";case"3":return"已过期";case"4":return"已失效";default:return""}}},data:function(){return{dialogLoading:!1,loading:!1,dialogVisible:!1,licenseno:"",ownerPhone:"",ownerName:"",tableData:[],detailData:[],pageSize:20,page:1,total:0}},methods:{showCoupon:function(e){var t=this;this.dialogVisible=!0,this.dialogLoading=!0,Object(l.d)({ownerPhone:e}).then(function(e){t.dialogLoading=!1,1==e.data.code&&(t.detailData=e.data.body)})},handleSizeChange:function(e){this.pageSize=e,this.carUser()},handleCurrentChange:function(e){this.page=e,this.carUser()},carUser:function(){var e=this,t={licenseno:this.licenseno,ownerPhone:this.ownerPhone,ownerName:this.ownerName,page:this.page-1,pageSize:this.pageSize};this.loading=!0,Object(l.c)(t).then(function(t){e.loading=!1,1==t.data.code&&(e.tableData=t.data.body.data,e.total=t.data.body.count)})}},mounted:function(){this.carUser()}},i={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"ownerList"},[a("el-form",{staticClass:"form",attrs:{inline:!0,"label-width":"100px"}},[a("el-form-item",{attrs:{label:"车牌号"}},[a("el-input",{attrs:{type:"text",size:"small",clearable:""},model:{value:e.licenseno,callback:function(t){e.licenseno=t},expression:"licenseno"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"车主姓名"}},[a("el-input",{attrs:{type:"text",size:"small",clearable:""},model:{value:e.ownerName,callback:function(t){e.ownerName=t},expression:"ownerName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"手机号"}},[a("el-input",{attrs:{type:"text",size:"small",clearable:""},model:{value:e.ownerPhone,callback:function(t){e.ownerPhone=t},expression:"ownerPhone"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.carUser}},[e._v("查询")])],1)],1),e._v(" "),a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"table"},[a("el-table",{staticStyle:{width:"98%",margin:".1rem"},attrs:{border:"",data:e.tableData,height:"6.6rem",size:"small"}},[a("el-table-column",{attrs:{prop:"nickName",align:"center",label:"微信昵称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"ownerName",align:"center",label:"车主姓名"}}),e._v(" "),a("el-table-column",{attrs:{prop:"ownerPhone",align:"center",label:"手机号"}}),e._v(" "),a("el-table-column",{attrs:{prop:"licenseno",align:"center",label:"车牌"}}),e._v(" "),a("el-table-column",{attrs:{prop:"visitNum",align:"center",label:"访问次数"}}),e._v(" "),a("el-table-column",{attrs:{prop:"notUsedNum",align:"center",label:"未用卡券数"}}),e._v(" "),a("el-table-column",{attrs:{prop:"usedNum",align:"center",label:"已用卡券数"}}),e._v(" "),a("el-table-column",{attrs:{prop:"overdueNum",align:"center",label:"过期卡券数"}}),e._v(" "),a("el-table-column",{attrs:{prop:"insTime","min-width":"110px",align:"center",label:"注册时间"},scopedSlots:e._u([{key:"default",fn:function(t){var l=t.row;return[a("p",[e._v(e._s(e._f("time")(l.insTime)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){var l=t.row;return[a("el-button",{attrs:{type:"text",size:"mini"},on:{click:function(t){return e.showCoupon(l.ownerPhone)}}},[e._v("查看卡券")])]}}])})],1),e._v(" "),a("el-pagination",{staticStyle:{float:"right"},attrs:{"current-page":e.page,"page-sizes":[20,100,200,300,400],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}}),e._v(" "),a("el-dialog",{attrs:{title:"车主卡券详情",visible:e.dialogVisible,width:"70%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.dialogLoading,expression:"dialogLoading"}],staticStyle:{width:"100%"},attrs:{border:"",data:e.detailData,size:"small",height:"6rem"}},[a("el-table-column",{attrs:{prop:"cardCode","min-width":"120px",align:"center",label:"卡券编号"}}),e._v(" "),a("el-table-column",{attrs:{prop:"cardTypeName",align:"center",label:"卡券类型"}}),e._v(" "),a("el-table-column",{attrs:{prop:"cardName",align:"center",label:"卡券名称"}}),e._v(" "),a("el-table-column",{attrs:{prop:"cardStaTime","min-width":"110px",align:"center",label:"生效时间"},scopedSlots:e._u([{key:"default",fn:function(t){var l=t.row;return[a("p",[e._v(e._s(e._f("date")(l.cardStaTime)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"cardExpTime","min-width":"110px",align:"center",label:"过期时间"},scopedSlots:e._u([{key:"default",fn:function(t){var l=t.row;return[a("p",[e._v(e._s(e._f("date")(l.cardExpTime)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"channelName",align:"center",label:"派发渠道"}}),e._v(" "),a("el-table-column",{attrs:{prop:"sendTime","min-width":"110px",align:"center",label:"派发时间"},scopedSlots:e._u([{key:"default",fn:function(t){var l=t.row;return[a("p",[e._v(e._s(e._f("time")(l.sendTime)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"cardStatus",align:"center",label:"卡券状态"},scopedSlots:e._u([{key:"default",fn:function(t){var l=t.row;return[a("p",[e._v(e._s(e._f("status")(l.cardStatus)))])]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"useStoreName",align:"center",label:"扫码商户"}})],1)],1)],1)],1)},staticRenderFns:[]};var o=a("VU/8")(r,i,!1,function(e){a("Obln")},"data-v-0a432ee0",null);t.default=o.exports},Obln:function(e,t){}});
//# sourceMappingURL=29.bc31704a68cbc6984066.js.map