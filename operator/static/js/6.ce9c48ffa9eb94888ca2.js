webpackJsonp([6],{BFhP:function(e,t){},r5ay:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l=a("P9l9"),r={name:"userSeting",data:function(){return{dialogVisible:!1,formData:{keyword:"",role:"",roles:[{label:"游客",value:"0"},{label:"审核员",value:"10"},{label:"经理",value:"20"},{label:"管理员",value:"30"}]},userData:{userName:"",role:"",phone:"",id:"",uid:""},tableData:[],page:1,pageSize:20,total:0,loading:!1}},methods:{shouEdit:function(e){this.dialogVisible=!0,this.userData.userName=e.userName,this.userData.role=e.role,this.userData.phone=e.phone,this.userData.id=e.id,this.userData.uid=e.uid},handleSizeChange:function(e){this.size=e,this.operateUser(!0)},saveOperateUser:function(){var e=this,t={userName:this.userData.userName,id:this.userData.id,uid:this.userData.uid,role:this.userData.role,phone:this.userData.phone};Object(l.v)(t).then(function(t){1==t.data.code?(e.$notify({title:"成功",message:t.data.msg,type:"success"}),e.dialogVisible=!1,e.operateUser(!0)):e.$notify.error({title:"错误",message:t.data.msg})})},handleCurrentChange:function(e){this.pageSize=e,this.operateUser(!0)},operateUser:function(e){var t=this,a={page:this.page-1,pageSize:this.pageSize,keyWord:this.formData.keyword,role:this.formData.role};this.loading=!0,Object(l.v)(a,e).then(function(e){t.loading=!1,t.tableData=e.data.body.data,t.total=e.data.body.count})}},mounted:function(){this.operateUser(!0)}},s={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"userSeting"},[a("el-form",{staticClass:"form",attrs:{inline:!0,"label-width":"80px"}},[a("el-form-item",{attrs:{label:"关键字"}},[a("el-input",{attrs:{type:"text",size:"small"},model:{value:e.formData.keyword,callback:function(t){e.$set(e.formData,"keyword",t)},expression:"formData.keyword"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"角色"}},[a("el-select",{attrs:{size:"small"},model:{value:e.formData.role,callback:function(t){e.$set(e.formData,"role",t)},expression:"formData.role"}},e._l(e.formData.roles,function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{type:"primary",size:"small"},on:{click:e.operateUser}},[e._v("查询")])],1)],1),e._v(" "),a("div",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"tabel"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,border:"",height:"6.6rem"}},[a("el-table-column",{attrs:{align:"center",prop:"depName",label:"部门"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"userName",label:"姓名"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"roleName",label:"角色"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",prop:"phone",label:"手机"}}),e._v(" "),a("el-table-column",{attrs:{align:"center",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{attrs:{type:"text",size:"small"},on:{click:function(a){return e.shouEdit(t.row)}}},[e._v("查看")])]}}])})],1),e._v(" "),a("el-pagination",{staticStyle:{float:"right"},attrs:{"current-page":e.page,"page-sizes":[20,100,200,300,400],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),e._v(" "),a("el-dialog",{attrs:{title:"用户信息",visible:e.dialogVisible,width:"40%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[a("el-form",{attrs:{"label-width":"100px"}},[a("el-form-item",{attrs:{label:"姓名"}},[a("el-input",{attrs:{size:"small"},model:{value:e.userData.userName,callback:function(t){e.$set(e.userData,"userName",t)},expression:"userData.userName"}})],1),e._v(" "),a("el-form-item",{attrs:{label:"角色"}},[a("el-select",{staticStyle:{width:"100%"},attrs:{size:"small"},model:{value:e.userData.role,callback:function(t){e.$set(e.userData,"role",t)},expression:"userData.role"}},e._l(e.formData.roles,function(e,t){return a("el-option",{key:t,attrs:{label:e.label,value:e.value}})}),1)],1),e._v(" "),a("el-form-item",{attrs:{label:"手机"}},[a("el-input",{attrs:{size:"small"},model:{value:e.userData.phone,callback:function(t){e.$set(e.userData,"phone",t)},expression:"userData.phone"}})],1),e._v(" "),a("el-form-item",[a("el-button",{attrs:{size:"small",type:"primary"},on:{click:e.saveOperateUser}},[e._v("确定")]),e._v(" "),a("el-button",{attrs:{size:"small"},on:{click:function(t){e.dialogVisible=!1}}},[e._v("取消")])],1)],1)],1)],1)},staticRenderFns:[]};var i=a("VU/8")(r,s,!1,function(e){a("BFhP")},"data-v-c94b77d6",null);t.default=i.exports}});
//# sourceMappingURL=6.ce9c48ffa9eb94888ca2.js.map